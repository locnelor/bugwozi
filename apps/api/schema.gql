# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type SysAccountEntity {
  createdAt: DateTime!
  updatedAt: DateTime!
  uid: String!
  provider: String!
  value: String!
  userId: String!
  user: SysUserEntity
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type SysUserEntity {
  createdAt: DateTime!
  updatedAt: DateTime!
  uid: String!
  account: String!
  roleId: String
  name: String!
  role: SysRoleEntity
  accounts: [SysAccountEntity!]
  access_token: String
}

type SysRoleEntity {
  createdAt: DateTime!
  updatedAt: DateTime!
  uid: String!
  name: String!
  sort: Int!
  status: Boolean!
  comment: String
  menus: [SysMenuOnRoleEntity!]
  users: [SysUserEntity!]
}

type SysMenuOnRoleEntity {
  roleId: String!
  menuId: String!
  power: Int!
  menu: SysMenuEntity
  role: SysRoleEntity
}

type SysUserBanMenuEntity {
  userId: String!
  menuId: String!
  user: SysUserEntity
  menu: SysMenuEntity
}

type SysMenuEntity {
  createdAt: DateTime!
  updatedAt: DateTime!
  uid: String!
  name: String!
  path: String!
  powers: Int!
  sort: Int!
  comment: String
  parentId: String
  children: [SysMenuEntity!]
  roles: [SysMenuOnRoleEntity!]
  user_bans: [SysUserBanMenuEntity!]
}

type UserPaginationEntity {
  total: Int!
  page: Int!
  size: Int!
  data: [SysUserEntity!]!
}

type RolePaginationEntity {
  total: Int!
  page: Int!
  size: Int!
  data: [SysRoleEntity!]!
}

type Query {
  hasWebsiteInit: Boolean!
  users: [SysUserEntity!]!
  userList(pagination: UserPaginationInput!): UserPaginationEntity!
  findOne(uid: String!): SysRoleEntity!
  menus: [SysMenuEntity!]!
  menu(uid: String!): SysMenuEntity!
  roles: [SysRoleEntity!]!
  roleList(pagination: RolePaginationInput!): RolePaginationEntity!
  findMenuOnRoles(id: String!): [SysMenuOnRoleEntity!]!
  viewer: SysUserEntity!
}

input UserPaginationInput {
  page: Int! = 1
  size: Int! = 10
  name: String
}

input RolePaginationInput {
  page: Int! = 1
  size: Int! = 10
  name: String
  status: Boolean
  comment: String
}

type Mutation {
  websiteInit(roleName: String!, username: String!, account: String!, password: String!): SysUserEntity!
  createUser(createInput: CreateUserInput!): SysUserEntity!
  updateUser(updateInput: UpdateUserInput!): SysUserEntity!
  removeUser(uid: String!): SysUserEntity!
  createRole(data: CreateRoleInput!): SysRoleEntity!
  updateRole(data: UpdateRoleInput!): SysRoleEntity!
  assignRole(data: AssignRoleInput!): Int!
  removeRole(uid: String!): SysRoleEntity!
  authAccountLogin(account: String!, password: String!): SysUserEntity!
}

input CreateUserInput {
  name: String!
  account: String
  roleId: String
}

input UpdateUserInput {
  name: String
  account: String
  roleId: String
  uid: String!
}

input CreateRoleInput {
  name: String!
  status: Boolean
  comment: String
  sort: Int
}

input UpdateRoleInput {
  uid: String!
  name: String
  status: Boolean
  comment: String
  sort: Int
}

input AssignRoleInput {
  roleId: String!
  menuIds: [String!]!
}